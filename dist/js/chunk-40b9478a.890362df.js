(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40b9478a"],{"20c2":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dash"},[e("Header",{attrs:{title:t.title}}),e("b-card",[e("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[e("b-tab",{attrs:{title:"List Users",active:""}},[e("ListUser")],1),e("b-tab",{attrs:{title:"Tambah User"}},[e("AddUsers")],1)],1)],1)],1)},i=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"addVisi"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"8",sm:"12"}},[e("b-card",[e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.variant},on:{dismissed:function(a){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[e("p",[t._v(t._s(t.messages))]),e("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),e("b-form",{staticClass:"text-left mt-4",on:{submit:t.onSubmit}},[e("b-form-group",{staticClass:"mb-4",attrs:{label:"Nama Depan"}},[e("b-form-input",{attrs:{id:"fname",type:"text",placeholder:"Nama depan",required:""},model:{value:t.form.nama_depan,callback:function(a){t.$set(t.form,"nama_depan",a)},expression:"form.nama_depan"}})],1),e("b-form-group",{staticClass:"mb-4",attrs:{label:"Nama Belakang"}},[e("b-form-input",{attrs:{id:"lname",type:"text",placeholder:"Nama belakang"},model:{value:t.form.nama_bel,callback:function(a){t.$set(t.form,"nama_bel",a)},expression:"form.nama_bel"}})],1),e("b-form-group",{staticClass:"mb-4",attrs:{label:"E-Mail"}},[e("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Email",required:""},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}})],1),e("b-form-group",{staticClass:"mb-4",attrs:{label:"Role"}},[e("b-form-select",{attrs:{id:"role",options:t.role,required:""},model:{value:t.form.role,callback:function(a){t.$set(t.form,"role",a)},expression:"form.role"}})],1),e("b-form-group",{staticClass:"mb-4",attrs:{label:"Telepon"}},[e("b-form-input",{attrs:{id:"telp",type:"number",placeholder:"Telepon / HP",required:""},model:{value:t.form.telp,callback:function(a){t.$set(t.form,"telp",a)},expression:"form.telp"}})],1),e("b-form-group",{staticClass:"mb-4",attrs:{label:"Alamat"}},[e("b-form-input",{attrs:{id:"alamat",type:"text",placeholder:"Alamat",required:""},model:{value:t.form.alamat,callback:function(a){t.$set(t.form,"alamat",a)},expression:"form.alamat"}})],1),e("b-form-group",{attrs:{label:"Password"}},[e("b-form-input",{attrs:{id:"password",name:"password",type:"password",placeholder:"Password",required:""},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1),e("b-form-group",{attrs:{label:"Konfirmasi Password"}},[e("b-form-input",{attrs:{id:"c_password",name:"c_password",type:"password",placeholder:"Konfirmasi Password",required:""},model:{value:t.form.c_password,callback:function(a){t.$set(t.form,"c_password",a)},expression:"form.c_password"}})],1),e("b-button",{staticClass:"mt-4",attrs:{type:"submit",variant:"success"}},[t.loading?e("div",[e("b-spinner",{attrs:{small:"",variant:"primary"}}),t._v(" Menyimpan... ")],1):t._e(),t.loading?t._e():e("span",[e("i",{staticClass:"fa fa-save"}),t._v(" Tambah User")])])],1)],1)],1)],1)],1)},l=[],o=e("bc3a"),n=e.n(o),d={data(){return{alert:!1,visiUrl:"",form:{nama_depan:"",nama_bel:"",email:"",telp:"",alamat:"",role:null,password:"",c_password:""},role:[{text:"Pilih Role User",value:null},{text:"Admin",value:"admin"},{text:"HRD",value:"hrd"},{text:"Staff",value:"staff"}],loading:"",variant:"",dismissSecs:5,dismissCountDown:0,messages:""}},created(){const t=localStorage.getItem("apiUrl");this.visiUrl=t+"/sign-up"},methods:{onSubmit(t){t.preventDefault(),this.loading="true",this.form.password!==this.form.c_password?(this.variant="danger",this.alert=!0,this.messages="Password tidak sama!!!",this.form.password="",this.form.c_password="",this.showAlert(),this.loading=!1):this.register()},async register(){try{let t=await n.a.post(this.visiUrl,this.form);console.log(t.token),null!==t.token&&(this.variant="success",this.messages="Berhasil Menambah User",this.showAlert(),console.log(t),this.loading="",this.$root.$emit("getVisi"))}catch({response:t}){this.loading="",this.variant="danger",this.messages=t.data.msg,this.form.password="",this.alert=!0,console.log(t.data.msg)}},countDownChanged(t){this.dismissCountDown=t},showAlert(){this.dismissCountDown=this.dismissSecs}}},m=d,c=(e("e79b"),e("2877")),u=Object(c["a"])(m,r,l,!1,null,"56233ae5",null),p=u.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"listVisi"},[e("b-card",[e("div",{staticClass:"row my-4"},[e("div",{staticClass:"col-sm-12 col-md-6 d-flex justify-content-start"},[e("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show  "),e("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}}),t._v(" entries ")],1)])]),e("div",{staticClass:"col-sm-12 col-md-6 d-flex justify-content-end"},[e("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Search: "),e("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}})],1)])])]),e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(a){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[e("p",[t._v(t._s(t.messages))]),e("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),e("div",{staticClass:"table-responsive mb-0"},[e("b-table",{attrs:{items:t.tableData,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(action)",fn:function(a){return[e("div",{staticClass:"actions",staticStyle:{"min-width":"100px"}},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Edit User",href:"javascript:void(0);"},on:{click:function(e){return t.edit(a.item)}}},[e("i",{staticClass:"fas fa-user-edit"})]),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-danger",attrs:{href:"javascript:void(0);",title:"Delete"},on:{click:function(e){return t.deleteVisi(a.item.id)}}},[t.loading?e("b-spinner",{attrs:{small:"",variant:"primary"}}):t._e(),t.loading?t._e():e("i",{staticClass:"mdi mdi-trash-can font-size-18"})],1)])]}}])})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[e("ul",{staticClass:"pagination pagination-rounded mb-0"},[e("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)])])]),e("b-modal",{ref:"users",attrs:{id:"users","hide-footer":"",title:"Edit "+t.editData.nama_depan}},[e("div",{staticClass:"d-block text-left"},[e("b-form-group",{attrs:{id:"input-group-1",label:"Nama depan","label-for":"input-1"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:""},model:{value:t.editData.nama_depan,callback:function(a){t.$set(t.editData,"nama_depan",a)},expression:"editData.nama_depan"}})],1),e("b-form-group",{attrs:{id:"input-group-11",label:"Nama belakang","label-for":"input-11"}},[e("b-form-input",{attrs:{id:"input-11",type:"text",required:""},model:{value:t.editData.nama_bel,callback:function(a){t.$set(t.editData,"nama_bel",a)},expression:"editData.nama_bel"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"Email","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"input-2",type:"email",required:""},model:{value:t.editData.email,callback:function(a){t.$set(t.editData,"email",a)},expression:"editData.email"}})],1),e("b-form-group",{attrs:{id:"input-group-25",label:"Password","label-for":"input-25"}},[e("b-form-input",{attrs:{id:"input-25",type:"email",placeholder:"Tidak diganti",required:""},model:{value:t.editData.new_password,callback:function(a){t.$set(t.editData,"new_password",a)},expression:"editData.new_password"}})],1),e("b-form-group",{attrs:{id:"input-group-22",label:"Telepon","label-for":"input-22"}},[e("b-form-input",{attrs:{id:"input-22",type:"text",required:""},model:{value:t.editData.telp,callback:function(a){t.$set(t.editData,"telp",a)},expression:"editData.telp"}})],1),e("b-form-group",{attrs:{id:"input-group-23",label:"Alamat","label-for":"input-23"}},[e("b-form-input",{attrs:{id:"input-23",type:"text",required:""},model:{value:t.editData.alamat,callback:function(a){t.$set(t.editData,"alamat",a)},expression:"editData.alamat"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Role","label-for":"input-3"}},[e("b-form-select",{attrs:{id:"input-3",options:t.role,required:""},model:{value:t.editData.role,callback:function(a){t.$set(t.editData,"role",a)},expression:"editData.role"}})],1)],1),e("b-button",{staticClass:"mt-4",attrs:{variant:"outline-success",block:""},on:{click:t.SaveUsers}},[t._v("Simpan")])],1)],1)],1)},f=[],h={data(){return{editData:{},tableData:[],role:[{text:"Pilih Role User",value:"null"},{text:"Admin",value:"admin"},{text:"HRD",value:"hrd"},{text:"Staff",value:"staff"}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"id",sortDesc:!1,fields:[{key:"id",sortable:!0,label:"ID"},{key:"nama_depan",sortable:!0,label:"Nama"},{key:"email",sortable:!0,label:"Email"},{key:"telp",sortable:!0,label:"Telepon"},{key:"alamat",sortable:!0,label:"Alamat"},{key:"role",sortable:!0,label:"Role"},{key:"action"}],visiUrl:"",loading:"",dismissSecs:5,dismissCountDown:0,messages:""}},computed:{rows(){return this.tableData.length}},mounted(){this.totalRows=this.tableData.length,this.$root.$on("getVisi",this.getVisi)},created(){const t=localStorage.getItem("apiUrl");this.visiUrl=t+"/users",this.getVisi()},methods:{async SaveUsers(){await n.a.put(this.visiUrl+"/"+this.editData.id,this.editData).then(t=>{this.messages="Data berhasil diubah",this.getVisi(),this.showAlert(),console.log("data",t),this.getVisi(),this.$refs["users"].hide()}).catch(t=>{console.log(t)})},edit(t){console.log(t),this.editData=t,this.$refs["users"].show()},async getVisi(){const t=await n.a.get(this.visiUrl).catch(t=>console.log(t));this.tableData=t.data.data,console.log(t.data.data)},async deleteVisi(t){this.loading=!0,console.log(t);try{await n.a.delete(this.visiUrl+"/"+t),this.messages="Data terhapus",this.getVisi(),this.showAlert(),this.loading=!1}catch(a){console.log(a)}},countDownChanged(t){this.dismissCountDown=t},showAlert(){this.dismissCountDown=this.dismissSecs},onFiltered(t){this.totalRows=t.length,this.currentPage=1}}},g=h,v=Object(c["a"])(g,b,f,!1,null,"0548283e",null),w=v.exports,D=e("2663"),_={data(){return{title:"Manajemen User"}},components:{AddUsers:p,ListUser:w,Header:D["a"]}},x=_,C=Object(c["a"])(x,s,i,!1,null,"082c4058",null);a["default"]=C.exports},"3eae":function(t,a,e){},e79b:function(t,a,e){"use strict";e("3eae")}}]);
//# sourceMappingURL=chunk-40b9478a.890362df.js.map