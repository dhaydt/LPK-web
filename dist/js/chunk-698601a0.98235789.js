(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698601a0"],{"20c2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dash"},[e("Header",{attrs:{title:t.title}}),e("b-card",[e("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[e("b-tab",{attrs:{title:"List Users",active:""}},[e("ListUser")],1),e("b-tab",{attrs:{title:"Tambah User"}},[e("AddUsers")],1)],1)],1)],1)},i=[],l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"addVisi"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"8",sm:"12"}},[e("b-card",[e("b-card-title",{staticClass:"text-left"},[t._v("Tambah Visi / Misi")]),e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.variant},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[e("p",[t._v(t._s(t.messages))]),e("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),e("b-form",{on:{submit:t.onSubmit}},[e("b-input-group",{staticClass:"mb-2 mt-4 mr-sm-2 mb-sm-0",attrs:{prepend:"Visi"}},[e("b-form-input",{attrs:{id:"visi"},model:{value:t.form.visi,callback:function(s){t.$set(t.form,"visi",s)},expression:"form.visi"}})],1),e("b-input-group",{staticClass:"mb-2 mt-4 mr-sm-2 mb-sm-0",attrs:{prepend:"Misi"}},[e("b-form-input",{attrs:{id:"misi"},model:{value:t.form.misi,callback:function(s){t.$set(t.form,"misi",s)},expression:"form.misi"}})],1),e("b-button",{staticClass:"mt-4",attrs:{type:"submit",variant:"success"}},[t.loading?e("div",[e("b-spinner",{attrs:{small:"",variant:"primary"}}),t._v(" Menyimpan... ")],1):t._e(),t.loading?t._e():e("span",[e("i",{staticClass:"fa fa-save"}),t._v(" Simpan")])])],1)],1)],1)],1)],1)},r=[],o=e("bc3a"),n=e.n(o),d={data(){return{visiUrl:"",form:{visi:"",misi:""},loading:"",variant:"",dismissSecs:5,dismissCountDown:0,messages:""}},created(){const t=localStorage.getItem("apiUrl");this.visiUrl=t+"/visi"},methods:{async onSubmit(t){if(t.preventDefault(),this.loading=!0,""==this.form.misi&&""==this.form.visi)console.log("null"),this.loading=!1,this.messages="Isi salah satu antara visi / misi",this.variant="danger",this.showAlert();else{console.log("not null",this.form);try{const t=await n.a.post(this.visiUrl,this.form);console.log(t)}catch(s){console.log(s)}this.form.visi="",this.form.misi="",this.messages="Data tersimpan",this.variant="success",this.loading=!1,this.showAlert(),this.$root.$emit("getVisi")}},countDownChanged(t){this.dismissCountDown=t},showAlert(){this.dismissCountDown=this.dismissSecs}}},c=d,m=(e("9a66"),e("2877")),u=Object(m["a"])(c,l,r,!1,null,"47efa39b",null),p=u.exports,b=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"listVisi"},[e("b-card",[e("div",{staticClass:"row my-4"},[e("div",{staticClass:"col-sm-12 col-md-6 d-flex justify-content-start"},[e("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show  "),e("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(s){t.perPage=s},expression:"perPage"}}),t._v(" entries ")],1)])]),e("div",{staticClass:"col-sm-12 col-md-6 d-flex justify-content-end"},[e("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Search: "),e("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:t.filter,callback:function(s){t.filter=s},expression:"filter"}})],1)])])]),e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[e("p",[t._v(t._s(t.messages))]),e("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),e("div",{staticClass:"table-responsive mb-0"},[e("b-table",{attrs:{items:t.tableData,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(s){t.sortBy=s},"update:sort-by":function(s){t.sortBy=s},"update:sortDesc":function(s){t.sortDesc=s},"update:sort-desc":function(s){t.sortDesc=s},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(action)",fn:function(s){return[e("div",{staticClass:"actions",staticStyle:{"min-width":"100px"}},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Edit User",href:"javascript:void(0);"},on:{click:function(e){return t.edit(s.item)}}},[e("i",{staticClass:"fas fa-user-edit"})]),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-danger",attrs:{href:"javascript:void(0);",title:"Delete"},on:{click:function(e){return t.deleteVisi(s.item.id)}}},[t.loading?e("b-spinner",{attrs:{small:"",variant:"primary"}}):t._e(),t.loading?t._e():e("i",{staticClass:"mdi mdi-trash-can font-size-18"})],1)])]}}])})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[e("ul",{staticClass:"pagination pagination-rounded mb-0"},[e("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(s){t.currentPage=s},expression:"currentPage"}})],1)])])]),e("b-modal",{ref:"users",attrs:{id:"users","hide-footer":"",title:"Edit "+t.editData.nama_depan}},[e("div",{staticClass:"d-block text-left"},[e("b-form-group",{attrs:{id:"input-group-1",label:"Nama depan","label-for":"input-1"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:""},model:{value:t.editData.nama_depan,callback:function(s){t.$set(t.editData,"nama_depan",s)},expression:"editData.nama_depan"}})],1),e("b-form-group",{attrs:{id:"input-group-11",label:"Nama belakang","label-for":"input-11"}},[e("b-form-input",{attrs:{id:"input-11",type:"text",required:""},model:{value:t.editData.nama_bel,callback:function(s){t.$set(t.editData,"nama_bel",s)},expression:"editData.nama_bel"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"Email","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"input-2",type:"email",required:""},model:{value:t.editData.email,callback:function(s){t.$set(t.editData,"email",s)},expression:"editData.email"}})],1),e("b-form-group",{attrs:{id:"input-group-25",label:"Password","label-for":"input-25"}},[e("b-form-input",{attrs:{id:"input-25",type:"email",placeholder:"Tidak diganti",required:""},model:{value:t.editData.new_password,callback:function(s){t.$set(t.editData,"new_password",s)},expression:"editData.new_password"}})],1),e("b-form-group",{attrs:{id:"input-group-22",label:"Telepon","label-for":"input-22"}},[e("b-form-input",{attrs:{id:"input-22",type:"text",required:""},model:{value:t.editData.telp,callback:function(s){t.$set(t.editData,"telp",s)},expression:"editData.telp"}})],1),e("b-form-group",{attrs:{id:"input-group-23",label:"Alamat","label-for":"input-23"}},[e("b-form-input",{attrs:{id:"input-23",type:"text",required:""},model:{value:t.editData.alamat,callback:function(s){t.$set(t.editData,"alamat",s)},expression:"editData.alamat"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Role","label-for":"input-3"}},[e("b-form-select",{attrs:{id:"input-3",options:t.role,required:""},model:{value:t.editData.role,callback:function(s){t.$set(t.editData,"role",s)},expression:"editData.role"}})],1)],1),e("b-button",{staticClass:"mt-4",attrs:{variant:"outline-success",block:""},on:{click:t.SaveUsers}},[t._v("Simpan")])],1)],1)],1)},f=[],h={data(){return{editData:{},tableData:[],role:[{text:"Pilih Role User",value:"null"},{text:"Admin",value:"admin"},{text:"HRD",value:"hrd"},{text:"Staff",value:"staff"}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"id",sortDesc:!1,fields:[{key:"id",sortable:!0,label:"ID"},{key:"nama_depan",sortable:!0,label:"Nama"},{key:"email",sortable:!0,label:"Email"},{key:"telp",sortable:!0,label:"Telepon"},{key:"alamat",sortable:!0,label:"Alamat"},{key:"role",sortable:!0,label:"Role"},{key:"action"}],visiUrl:"",loading:"",dismissSecs:5,dismissCountDown:0,messages:""}},computed:{rows(){return this.tableData.length}},mounted(){this.totalRows=this.tableData.length,this.$root.$on("getVisi",this.getVisi)},created(){const t=localStorage.getItem("apiUrl");this.visiUrl=t+"/users",this.getVisi()},methods:{async SaveUsers(){await n.a.put(this.visiUrl+"/"+this.editData.id,this.editData).then(t=>{this.messages="Data berhasil diubah",this.getVisi(),this.showAlert(),console.log("data",t),this.getVisi(),this.$refs["users"].hide()}).catch(t=>{console.log(t)})},edit(t){console.log(t),this.editData=t,this.$refs["users"].show()},async getVisi(){const t=await n.a.get(this.visiUrl).catch(t=>console.log(t));this.tableData=t.data.data,console.log(t.data.data)},async deleteVisi(t){this.loading=!0,console.log(t);try{await n.a.delete(this.visiUrl+"/"+t),this.messages="Data terhapus",this.getVisi(),this.showAlert(),this.loading=!1}catch(s){console.log(s)}},countDownChanged(t){this.dismissCountDown=t},showAlert(){this.dismissCountDown=this.dismissSecs},onFiltered(t){this.totalRows=t.length,this.currentPage=1}}},g=h,v=Object(m["a"])(g,b,f,!1,null,"0548283e",null),w=v.exports,D=e("2663"),C={data(){return{title:"Manajemen User"}},components:{AddUsers:p,ListUser:w,Header:D["a"]}},_=C,y=Object(m["a"])(_,a,i,!1,null,"082c4058",null);s["default"]=y.exports},"7b69":function(t,s,e){},"9a66":function(t,s,e){"use strict";e("7b69")}}]);
//# sourceMappingURL=chunk-698601a0.98235789.js.map